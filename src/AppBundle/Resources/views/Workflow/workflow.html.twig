{% extends 'base.html.twig' %}


{% block body %}
    <div class="panel-body">
        <h3>{{ 'app.entity.workflow'|transchoice(10) }}</h3>
        {% form_theme form 'AppBundle:Form:admin.html.twig' %}
        {{ form_start(form) }}
        <div id="user-toolbar">
            <div class="columns-right btn-group pull-left">
                {{ form_widget(form.add) }}
                {{ form_widget(form.edit) }}
                {{ form_widget(form.delete) }}
            </div>
        </div>

        <table class="table table-striped table-bordered table-hover" data-search="true" data-toggle="table" data-show-columns="true" data-select-item-name="user" data-toolbar="#user-toolbar" data-pagination="true" data-show-export="true">
            <thead>
            <tr>
                <th data-sortable="false" data-align="center" data-switchable="false"></th>
                <th data-sortable="true" data-field="name" >{{ 'app.form.name'|trans }}</th>
                <th data-sortable="true" data-field="groups" >Groups</th>
            </tr>
            </thead>
            <tbody>

            {% for workflow in form.workflows %}
                <tr>
                    <td>{{ form_row(workflow, { 'label': ' ' }) }}</td>
                    <td>{{ workflows[loop.index-1].name }}</td>
                    <td>
                        {% for group in workflows[loop.index-1].group.groups %}
                            {{ group.name }}
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        {% do form.workflows.setRendered %}
        {{ form_end(form) }}
    </div>
{% endblock %}